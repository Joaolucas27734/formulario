<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FormulÃ¡rio de Pesquisa | Sportech</title>
  
  <!-- Favicon -->
  <link rel="icon" href="logo.2.png" type="image/png" />

  <style>
    /* Fonte e fundo */
    body {
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      background-color: #cceffb; /* azul clarinho inspirado na cor da loja */
      padding: 40px;
      display: flex;
      justify-content: center;
    }
    form#survey-form {
      background-color: white;
      max-width: 420px;
      width: 100%;
      padding: 30px 40px; /* Ajustei para deixar proporcional */
      border-radius: 8px;
      box-shadow: 0 2px 8px rgb(0 0 0 / 0.1);
    }
    h2 {
      color: #323130;
      font-weight: 600;
      margin-bottom: 24px;
      font-size: 24px;
      text-align: center;
    }
    label {
      display: flex;
      flex-direction: column;
      margin-bottom: 12px;
      font-size: 16px;
      color: #323130;
    }
    input[type="text"],
    input[type="email"],
    input[type="number"],
    select,
    textarea {
      margin-top: 8px;
      padding: 10px 14px;
      font-size: 16px;
      border: 1.5px solid #c8c6c4;
      border-radius: 4px;
      transition: border-color 0.3s ease, box-shadow 0.3s ease;
      font-family: inherit;
      resize: vertical;
    }
    input[type="text"]:focus,
    input[type="email"]:focus,
    input[type="number"]:focus,
    select:focus,
    textarea:focus {
      outline: none;
      border-color: #605e5c;
      box-shadow: 0 0 0 2px #605e5c33;
    }
    button.btn {
      background-color: #0093d0; /* azul da loja */
      color: white;
      font-size: 16px;
      font-weight: 600;
      padding: 14px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      width: 100%;
      transition: background-color 0.3s ease;
      margin-top: 20px;
    }
    button.btn:hover {
      background-color: #007bb5; /* azul mais escuro no hover */
    }
    /* Campo de ajuda escondido */
    #campo-ajuda {
      margin-top: -10px; /* para ficar colado com o radio */
      margin-bottom: 15px;
      display: none;
    }
    /* Estrelas rating */
    .stars {
      display: flex;
      flex-direction: row-reverse;
      justify-content: center; /* centralizado */
      gap: 12px; /* mais espaÃ§amento entre estrelas */
      margin-top: 8px;
      margin-bottom: 20px;
    }
    .stars input[type="radio"] {
      display: none;
    }
    .stars label {
      font-size: 40px; /* estrelas maiores */
      color: #ccc;
      cursor: pointer;
      transition: color 0.2s ease-in-out;
      user-select: none;
    }
    /* Cor das estrelas selecionadas */
    .stars input[type="radio"]:checked ~ label,
    .stars label:hover,
    .stars label:hover ~ label {
      color: #ffb600;
    }
    /* Radios sim/nÃ£o lado a lado */
    .radio-group {
      display: flex;
      gap: 20px;
      margin-top: 8px;
      margin-bottom: 15px;
    }
    .radio-group label {
      font-size: 16px;
      color: #323130;
      cursor: pointer;
      user-select: none;
      display: flex;
      align-items: center;
    }
    .radio-group input[type="radio"] {
      margin-right: 6px;
      cursor: pointer;
    }
    /* Estilo NPS (de 0 a 10) */
    .nps-scale {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      margin-top: 8px;
      margin-bottom: 20px;
      justify-content: center;
    }
    .nps-scale label {
      display: flex;
      align-items: center;
      justify-content: center;
      border: 1.5px solid #c8c6c4;
      border-radius: 6px;
      padding: 4px 8px;
      cursor: pointer;
      user-select: none;
      transition: background-color 0.2s ease, border-color 0.2s ease;
      min-width: 40px;
      font-size: 16px;
      color: #323130;
    }
    .nps-scale input[type="radio"] {
      display: none;
    }
    .nps-scale label:hover {
      background-color: #f3f2f1;
    }
    .nps-scale input[type="radio"]:checked + span {
      background-color: #605e5c;
      color: white;
      border-radius: 4px;
      padding: 4px 8px;
      font-weight: 600;
    }
  </style>
</head>
<body>

  <form id="survey-form">

      <h2>Pesquisa de satisfaÃ§Ã£o</h2>

    <label>Nome Completo*
      <input type="text" name="nome" placeholder="Digite seu nome completo" required />
    </label>

    <label>E-mail*
      <input type="email" name="email" placeholder="Digite seu e-mail" required />
    </label>

    <label>O que achou da embalagem do produto?*</label>
    <div class="stars" role="radiogroup" aria-label="AvaliaÃ§Ã£o da embalagem">
      <input type="radio" id="embalagem-star5" name="embalagem" value="5" required />
      <label for="embalagem-star5" title="5 estrelas">â˜…</label>

      <input type="radio" id="embalagem-star4" name="embalagem" value="4" />
      <label for="embalagem-star4" title="4 estrelas">â˜…</label>

      <input type="radio" id="embalagem-star3" name="embalagem" value="3" />
      <label for="embalagem-star3" title="3 estrelas">â˜…</label>

      <input type="radio" id="embalagem-star2" name="embalagem" value="2" />
      <label for="embalagem-star2" title="2 estrelas">â˜…</label>

      <input type="radio" id="embalagem-star1" name="embalagem" value="1" />
      <label for="embalagem-star1" title="1 estrela">â˜…</label>
    </div>

    <label>Como foi sua experiÃªncia com o prazo de entrega?*</label>
    <div class="stars" role="radiogroup" aria-label="AvaliaÃ§Ã£o do prazo de entrega">
      <input type="radio" id="prazo-star5" name="prazo" value="5" required />
      <label for="prazo-star5" title="5 estrelas">â˜…</label>

      <input type="radio" id="prazo-star4" name="prazo" value="4" />
      <label for="prazo-star4" title="4 estrelas">â˜…</label>

      <input type="radio" id="prazo-star3" name="prazo" value="3" />
      <label for="prazo-star3" title="3 estrelas">â˜…</label>

      <input type="radio" id="prazo-star2" name="prazo" value="2" />
      <label for="prazo-star2" title="2 estrelas">â˜…</label>

      <input type="radio" id="prazo-star1" name="prazo" value="1" />
      <label for="prazo-star1" title="1 estrela">â˜…</label>
    </div>

    <label>VocÃª conseguiu acompanhar seu pedido com facilidade?*</label>
    <div class="radio-group">
      <label>
        <input type="radio" name="acompanhamento" value="Sim" required />
        Sim
      </label>
      <label>
        <input type="radio" name="acompanhamento" value="NÃ£o" required />
        NÃ£o
      </label>
    </div>

    <label>VocÃª precisou de ajuda durante a entrega?*</label>
    <div class="radio-group">
      <label>
        <input type="radio" name="ajuda" value="Sim" required onchange="mostrarCampoAjuda()" />
        Sim
      </label>
      <label>
        <input type="radio" name="ajuda" value="NÃ£o" required onchange="mostrarCampoAjuda()" />
        NÃ£o
      </label>
    </div>

    <!-- Campo extra que aparece sÃ³ se escolher "Sim" -->
    <div id="campo-ajuda">
      <label>Qual ajuda foi necessÃ¡ria?
        <input type="text" name="detalhe_ajuda" placeholder="Descreva qual ajuda vocÃª precisou" />
      </label>
    </div>

    <!-- NPS de 0 a 10 -->
    <label>De 0 a 10, qual a chance de vocÃª recomendar nossa loja com base na sua experiÃªncia?*</label>
    <div class="nps-scale" role="radiogroup" aria-label="NPS - recomendaÃ§Ã£o">
      <label>
        <input type="radio" name="recomendacao" value="0" required />
        <span>0</span>
      </label>
      <label>
        <input type="radio" name="recomendacao" value="1" />
        <span>1</span>
      </label>
      <label>
        <input type="radio" name="recomendacao" value="2" />
        <span>2</span>
      </label>
      <label>
        <input type="radio" name="recomendacao" value="3" />
        <span>3</span>
      </label>
      <label>
        <input type="radio" name="recomendacao" value="4" />
        <span>4</span>
      </label>
      <label>
        <input type="radio" name="recomendacao" value="5" />
        <span>5</span>
      </label>
      <label>
        <input type="radio" name="recomendacao" value="6" />
        <span>6</span>
      </label>
      <label>
        <input type="radio" name="recomendacao" value="7" />
        <span>7</span>
      </label>
      <label>
        <input type="radio" name="recomendacao" value="8" />
        <span>8</span>
      </label>
      <label>
        <input type="radio" name="recomendacao" value="9" />
        <span>9</span>
      </label>
      <label>
        <input type="radio" name="recomendacao" value="10" />
        <span>10</span>
      </label>
    </div>

    <label>Deixe uma sugestÃ£o de melhoria ðŸ˜Š
      <textarea name="sugestao" rows="4" placeholder="Escreva sua sugestÃ£o aqui..."></textarea>
    </label>

    <button type="submit" class="btn">Enviar</button>

  </form>

  <script>
    function mostrarCampoAjuda() {
      const radios = document.getElementsByName('ajuda');
      const campoAjuda = document.getElementById('campo-ajuda');
      let selecionado = null;

      for (const radio of radios) {
        if (radio.checked) {
          selecionado = radio.value;
          break;
        }
      }

      if (selecionado === 'Sim') {
        campoAjuda.style.display = 'block';
      } else {
        campoAjuda.style.display = 'none';
      }
    }
  </script>

  <script>
    const form = document.getElementById('survey-form');

    form.addEventListener('submit', function(event) {
      event.preventDefault(); // evita o envio padrÃ£o

      // cria objeto FormData com os dados do form
      const data = new FormData(form);

      // transforma FormData em URL encoded para enviar ao Apps Script
      const searchParams = new URLSearchParams();
      for (const pair of data) {
        searchParams.append(pair[0], pair[1]);
      }

      fetch('https://script.google.com/macros/s/AKfycbyadOnhMG-K03axbe0PGf_owvjP3dhAFBLZwHdyQKwUptRYv-aBWqm2q6UxCpN6NZbu/exec', {
        method: 'POST',
        body: searchParams
      })
      .then(response => response.text())
      .then(text => {
        console.log('Resposta do servidor:', text);
        // Depois de enviar, redireciona para sua pÃ¡gina de agradecimento
        window.location.href = 'agradecimento.html';
      })
      .catch(error => {
        console.error('Erro ao enviar dados:', error);
        alert('Erro ao enviar o formulÃ¡rio, tente novamente.');
      });
    });
  </script>

</body>
</html>
